# kube-prometheus-stack minimal config for homelab

# Disable persistence (ephemeral only)
prometheus:
  prometheusSpec:
    retention: 6h
    storageSpec: {}  # no PVC
  persistence:
    enabled: false
  service:
    type: ClusterIP  # Ingress targets this
  ingress:
    enabled: false

alertmanager:
  enabled: false

grafana:
  enabled: true
  adminUser: admin
  adminPassword: admin
  persistence:
    enabled: false
  service:
    type: ClusterIP
  ingress:
    enabled: false
  defaultDashboardsEnabled: true

kube-state-metrics:
  enabled: true

nodeExporter:
  enabled: true